<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: SQL Server | AoboSir 的博客]]></title>
  <link href="http://aobojaing.github.io/tags/sql-server/atom.xml" rel="self"/>
  <link href="http://aobojaing.github.io/"/>
  <updated>2016-10-16T18:54:39+08:00</updated>
  <id>http://aobojaing.github.io/</id>
  <author>
    <name><![CDATA[Aobo Jaing]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[SQL 数据库 解决问题：无法打开物理文件 "XXX.mdf"。操作系统错误 5:"5(拒绝访问。)"。 (Microsoft SQL Server，错误: 5120) --- 附加数据库时出错。有关详细信息，请单击“消息”列中的超链接。]]></title>
    <link href="http://aobojaing.github.io/blog/2016/10/16/SQL-Solve-problem-Microsoft-SQL-Server-error-5120/"/>
    <updated>2016-10-16T18:52:33+08:00</updated>
    <id>http://aobojaing.github.io/blog/2016/10/16/SQL-Solve-problem-Microsoft-SQL-Server-error-5120</id>
    <content type="html"><![CDATA[<hr />

<ul>
<li>我的电脑系统：<strong>Windows  10</strong> 64位</li>
<li><strong>SQL Server</strong> 软件版本： <strong>SQL Server 2014 Express</strong></li>
</ul>


<hr />

<h2>出现的问题</h2>

<p>在你 <strong>附加</strong>  一个外部数据库到服务器上是，出现下面的错误：</p>

<p><img src="/images/2016-10-16-SQL-Solve-problem-Microsoft-SQL-Server-error-5120/1476612776678.png" alt="Alt text | center" /></p>

<p><img src="/images/2016-10-16-SQL-Solve-problem-Microsoft-SQL-Server-error-5120/1476612808460.png" alt="Alt text | center" /></p>

<hr />

<h2>解决办法</h2>

<ol>
<li><p>找到要附加的<code>.mdf</code>文件&mdash;&mdash;&mdash;>右键&mdash;&mdash;&mdash;>属性&mdash;&mdash;&mdash;>安全&mdash;&mdash;&mdash;>选择当前用户&mdash;&mdash;&mdash;>编辑&mdash;&mdash;&mdash;>完全控制。</p>

<ul>
<li><img src="/images/2016-10-16-SQL-Solve-problem-Microsoft-SQL-Server-error-5120/1476613072444.png" alt="Alt text" /></li>
<li><img src="/images/2016-10-16-SQL-Solve-problem-Microsoft-SQL-Server-error-5120/1476613183163.png" alt="Alt text" /></li>
</ul>
</li>
<li><p>对.<code>log</code>文件进行相同的处理。</p></li>
</ol>


<hr />

<h2>搞定</h2>

<hr />

<p>参考网站：</p>

<p><a href="http://blog.csdn.net/justdb/article/details/8457487">http://blog.csdn.net/justdb/article/details/8457487</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[SQL 数据库 学习 015 开始学习查询 查询综述]]></title>
    <link href="http://aobojaing.github.io/blog/2016/10/16/SQL-Learning-015-getting-started-query-query-summary/"/>
    <updated>2016-10-16T17:28:06+08:00</updated>
    <id>http://aobojaing.github.io/blog/2016/10/16/SQL-Learning-015-getting-started-query-query-summary</id>
    <content type="html"><![CDATA[<hr />

<ul>
<li>我的电脑系统：<strong>Windows  10</strong> 64位</li>
<li><strong>SQL Server</strong> 软件版本： <strong>SQL Server 2014 Express</strong></li>
</ul>


<hr />

<p><strong>查询</strong> 是数据库里面最重要的知识点，而且知识点很多，下面我们将<strong>查询</strong>的知识点先列出来：</p>

<ol>
<li><code>scott</code> 表介绍（例子表）</li>
<li>计算列</li>
<li><code>distinct</code></li>
<li><code>between</code></li>
<li><code>in</code></li>
<li><code>top</code></li>
<li><code>null</code></li>
<li><code>order by</code></li>
<li>模糊查询</li>
<li>聚合函数</li>
<li><code>group by</code></li>
<li><code>having</code></li>
<li>链接查询

<ul>
<li>定义</li>
<li>分类

<ul>
<li>内连接</li>
<li>外连接</li>
<li>完全连接</li>
<li>交叉连接</li>
<li>字连接</li>
<li>联合</li>
</ul>
</li>
</ul>
</li>
<li>嵌套查询（<code>orale</code> 中讲）</li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[SQL 数据库 学习 014 外键的具体定义 设计外键要注意的问题]]></title>
    <link href="http://aobojaing.github.io/blog/2016/10/16/SQL-Learning-014-foreign-key-specific-definition-and-attention/"/>
    <updated>2016-10-16T17:12:56+08:00</updated>
    <id>http://aobojaing.github.io/blog/2016/10/16/SQL-Learning-014-foreign-key-specific-definition-and-attention</id>
    <content type="html"><![CDATA[<hr />

<ul>
<li>我的电脑系统：<strong>Windows  10</strong> 64位</li>
<li><strong>SQL Server</strong> 软件版本： <strong>SQL Server 2014 Express</strong></li>
</ul>


<hr />

<h2>外键的具体定义</h2>

<p>如果一个表中的若干个字段是来自另外若干个表的主键或唯一键，则这若干个字段就是外键。（我们讲<a href="http://www.aobosir.com/blog/2016/10/14/SQL-Learning-011-relationship-one-to-one-one-to-many-many-to-many/">多对多</a>的时候，一个表里面就有两个外键。）</p>

<h2>设计外键要注意的问题</h2>

<ul>
<li>外键通常是来自另外表的主键而不是唯一（<code>unique</code>）键，因为唯一键可能为<code>null</code>。</li>
<li>外键不一定是来自另外的表，也可能来自本表的主键</li>
<li>含有外键的表叫外键表，外键字段来自的那一张表叫做主键表</li>
</ul>


<hr />

<h2>问题：</h2>

<p><strong>Q：</strong> 先删除主键表还是先删除外键表？</p>

<p><strong>A：</strong> 先删除外键表，再删主键表。如果先删除主键表，会报错，因为这会导致外键表中的数据引用失效。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[SQL 数据库 学习 013 主键的具体定义 设计主键要注意的问题]]></title>
    <link href="http://aobojaing.github.io/blog/2016/10/16/SQL-Learning-013-primary-key-specific-definition-and-attention/"/>
    <updated>2016-10-16T16:50:11+08:00</updated>
    <id>http://aobojaing.github.io/blog/2016/10/16/SQL-Learning-013-primary-key-specific-definition-and-attention</id>
    <content type="html"><![CDATA[<hr />

<ul>
<li>我的电脑系统：<strong>Windows  10</strong> 64位</li>
<li><strong>SQL Server</strong> 软件版本： <strong>SQL Server 2014 Express</strong></li>
</ul>


<hr />

<h2>主键的具体定义</h2>

<p>能够唯一标识一个事物的一个字段或者多个字段的组合，被称为主键</p>

<hr />

<h2>设计主键要注意的问题</h2>

<ul>
<li>含有主键的表叫做主键表</li>
<li>主键通常都是整数，不建议使用字符串为主键。（如果主键是用于集群式服务（指跨数据库服务，比如：跨行转账），才可以考虑用字符串当主键。）</li>
<li>主键的值通常都不允许 修改，除非本记录被删除</li>
<li>主键不要定义成<code>id</code>，而要定义成<code>表名id</code> 或者 <code>表名_id</code></li>
<li>要用代理主键，不要用业务主键

<ul>
<li>任何一张表，强烈建议不要使用业务含义的字段充当主键，我们通常都是在表中单独添加一个整型的编号充当主键字段。</li>
</ul>
</li>
</ul>


<hr />
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[SQL 数据库 学习 012 数据库关系图]]></title>
    <link href="http://aobojaing.github.io/blog/2016/10/16/SQL-Learning-012-database-diagram/"/>
    <updated>2016-10-16T15:47:58+08:00</updated>
    <id>http://aobojaing.github.io/blog/2016/10/16/SQL-Learning-012-database-diagram</id>
    <content type="html"><![CDATA[<hr />

<ul>
<li>我的电脑系统：<strong>Windows  10</strong> 64位</li>
<li><strong>SQL Server</strong> 软件版本： <strong>SQL Server 2014 Express</strong></li>
</ul>


<hr />

<p>我们现在写一个 多对多关系的表：（这段代码你可以在<a href="http://www.aobosir.com/blog/2016/10/14/SQL-Learning-011-relationship-one-to-one-one-to-many-many-to-many/">这篇博文</a>里面看到它的代码解释。）</p>

<pre><code class="sql">--班级表
create table banji
(
    banji_id int primary key,
    banji_num int not null,
    banji_name nvarchar(100)
)

--教师
create table jiaoshi
(
    jiaoshi_id int primary key,
    jiaoshi_name nvarchar(200)
)

--第三张表：用来模拟班级和教师的关系
create table banji_jiaoshi_mapping
(
    banji_id int constraint fk_banji_id foreign key references banji(bianji_id),
    jiaoshi_id int foreign key references jiaoshi(jiaoshi_id),
    kecheng nvarchar(20),
    constraint pk_banji_id_jiaoshi_id primary key (banji_id, jiaoshi_id, kecheng)

)
</code></pre>

<p>虽然，现在我们已经将表与表之间的关系都建好了。但是我现在怎么才能知道他们之间的关系到底有没有见好啊。
<strong>SQL Server</strong> 为我们提供了另外一个工具：<strong>数据库关系图</strong>。</p>

<p>我们新建一个：</p>

<p><img src="/images/2016-10-16-SQL-Learning-012-database-diagram/1476602645224.png" alt="Alt text" /></p>

<p><img src="/images/2016-10-16-SQL-Learning-012-database-diagram/1476602656133.png" alt="Alt text" /></p>

<p>外键添加到多的一方。</p>

<hr />
]]></content>
  </entry>
  
</feed>
