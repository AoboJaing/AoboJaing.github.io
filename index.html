
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>AoboSir 博客</title>
  <meta name="author" content="Aobo Jaing">

  
  <meta name="description" content="在我的Windows电脑里面，Arduino IDE软件安装在C:\Program Files (x86)\Arduino路径里面。 我们以一个例子来说明，如果将模块库添加到Arduino IDE软件中。 添加 I2Cdev 及其相关模块库到Arduino IDE软件里面 Step 0 . 关闭 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://aobojaing.github.io/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/git@github.com:AoboJaing/atom.xml" rel="alternate" title="AoboSir 博客" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//libs.baidu.com/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->


  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">AoboSir 博客</a></h1>
  
    <h2>代码在暴走，一切抛到脑后。Party开始，欢迎来到我的王国，跟着这flow，这个空间没有对错。</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/git@github.com:AoboJaing/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.baidu.com" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="aobojaing.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="http://blog.csdn.net/github_35160620">CSDN</a></li>
  <li><a href="/aboutme">About Me</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/12/06/Arduino-Windows-add-module-libraries/">Arduino 004 Windows上给Arduino IDE添加模块库</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-12-06T13:54:54+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>6</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>1:54 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><hr />

<p>在我的Windows电脑里面，Arduino IDE软件安装在<code>C:\Program Files (x86)\Arduino</code>路径里面。</p>

<p>我们以一个例子来说明，如果将模块库添加到Arduino IDE软件中。</p>

<h2>添加 I2Cdev 及其相关模块库到Arduino IDE软件里面</h2>

<p><strong>Step 0 . </strong> 关闭 Arduino IDE 软件</p>

<p><strong>Step 1 . </strong> 下载 i2cdev 及其相关的模块库</p>

<p>到<a href="https://github.com/jrowberg/i2cdevlib">这个网址</a>里面下载所有i2cdev相关的模块库。</p>

<p><strong>Step 2 . </strong> 下载后，解压，将<code>/Arduino/</code>路径里面的所有文件夹复制，并拷贝到：<code>C:\Program Files (x86)\Arduino\libraries</code>路径里面。</p>

<p><img src="/images/2016-12-6-Arduino-Windows-add-module-libraries/1481001787595.png" alt="Alt text" /></p>

<p><strong>Step 3 . </strong> 启动Arduino IDE 软件。在 <strong>文件</strong> -> <strong>示例</strong> 里面就可以看到刚刚添加到Arduino IDE的模块库。（现在就可以正常使用了）</p>

<p><img src="/images/2016-12-6-Arduino-Windows-add-module-libraries/1481001851166.png" alt="Alt text" /></p>

<hr />

<blockquote><p>注意：</p>

<p>如果是Ubuntu系统，Arduino IDE 一般被安装在：<code>/opt/arduino/</code></p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/12/06/Arduino-Ubuntu-Linux-board-upload-program/">Arduino 003 Ubuntu（Linux） 系统下，如何给板子烧写程序</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-12-06T13:51:56+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>6</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>1:51 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><ul>
<li>使用的虚拟机软件：<strong>VMware 11</strong></li>
<li>我的<strong>Ubuntu</strong>系统：<strong>Ubuntu 14.04.10 TLS</strong></li>
<li><strong>Arduino</strong> 软件的版本：<strong>Arduino 1.6.11</strong></li>
<li><strong>Arduino</strong> 板子的型号：<strong>Arduino UNO R3</strong></li>
</ul>


<p><strong>Step 0 . </strong> 来到 <strong>VMware</strong> 虚拟机里的<strong>Ubuntu </strong>系统的界面。</p>

<p><strong>Step 1 . </strong> 将 <strong>Arduino</strong> 板子通过USB线插到电脑上。</p>

<p><strong>Step 2 . </strong> 在终端中执行下面的命令，来启动 <strong>Arduino</strong> 软件。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>arduino</span></code></pre></td></tr></table></div></figure>


<p><strong>Step 3 . </strong> 随便打开一个程序。我们以 <strong>Blink</strong> 程序为例，打开它：</p>

<p><img src="/images/2016-12-6-Arduino-Ubuntu-Linux-board-upload-program/1472659956768.png" alt="Alt text" /></p>

<p><strong>Step 4 . </strong> 选择 <strong>板卡型号</strong></p>

<p><img src="/images/2016-12-6-Arduino-Ubuntu-Linux-board-upload-program/1472660070620.png" alt="Alt text" /></p>

<p><strong>Step 5 . </strong> 选择当前 <strong>端口号</strong></p>

<p><img src="/images/2016-12-6-Arduino-Ubuntu-Linux-board-upload-program/1472660146798.png" alt="Alt text" /></p>

<blockquote><p>你可以看到：<strong>Arduino</strong> 软件右下角有当前被选中的端口号和被选中的<strong>Arduino</strong>板卡的信息。</p>

<p><img src="/images/2016-12-6-Arduino-Ubuntu-Linux-board-upload-program/1472660193423.png" alt="Alt text" /></p></blockquote>

<p><strong>Step 6 . </strong> 给端口添加权限。</p>

<blockquote><p>如果，这时你给 <strong>Arduino</strong> 开发板下载程序，发现下载出错。原因就是没有给端口添加权限。</p>

<p><img src="/images/2016-12-6-Arduino-Ubuntu-Linux-board-upload-program/1472660225037.png" alt="Alt text" /></p>

<p>输出的 <strong>error</strong> 提示：</p>

<pre><code>avrdude: ser_open(): can't open device "/dev/ttyACM0": Permission denied
</code></pre></blockquote>

<p>在终端中执行下面的命令，来给当前选中的端口添加权限。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo chmod a+rw /dev/ttyACM0</span></code></pre></td></tr></table></div></figure>


<blockquote><p>端口号都在<code>/dev/</code> 目录里面。执行下面的命令可以查看：
<code>
cd /dev/
ls
</code>
输出 如下图所示：</p>

<p><img src="/images/2016-12-6-Arduino-Ubuntu-Linux-board-upload-program/1472660593893.png" alt="Alt text" /></p></blockquote>

<hr />

<blockquote><p><strong>注意：</strong> 如果你将<strong>Arduino</strong> 板子插到电脑上了，但是在<strong>/dev/</strong> 目录里面没有在到类似 <code>ttyACM0</code> 这样的端口号。</p>

<p>解决办法，将<strong>Arduino</strong>板子从电脑的USB口拔出，将当前屏幕界面切换到<strong>VMware</strong> 虚拟机里的<strong>Ubuntu </strong>系统的界面，这时，再将<strong>Arduino</strong> 板子插到电脑上。你就可以在<code>/dev/</code>路径里面找到类似 <code>ttyACM0</code> 这样的端口号了。</p></blockquote>

<p><strong>Step 6 . </strong> 点击 <strong>编译</strong> 按钮</p>

<p><img src="/images/2016-12-6-Arduino-Ubuntu-Linux-board-upload-program/1472660394610.png" alt="Alt text" /></p>

<p><strong>Step 7 . </strong> 点击 <strong>上传</strong> 按钮</p>

<p><img src="/images/2016-12-6-Arduino-Ubuntu-Linux-board-upload-program/1472660434092.png" alt="Alt text" /></p>

<blockquote><p>其实，可以不用点击 <strong>编译</strong> 按钮，直接点击 <strong>上传</strong> 按钮就可以。因为点击完 <strong>上传</strong> 按钮后，它会再编译一遍，在将程序烧写到板子上。</p></blockquote>

<p>现在提示 <strong>Done uploading</strong>，表示程序已经成功烧写到板子里面。</p>

<p><img src="/images/2016-12-6-Arduino-Ubuntu-Linux-board-upload-program/1472660284963.png" alt="Alt text" /></p>

<h2>搞定</h2>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/12/06/Arduino-Ubuntu-Linux-install-Arduino-IDE/">Arduino 002 — 在Ubuntu（Linux） 中搭建Arduino开发环境</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-12-06T13:46:35+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>6</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>1:46 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><ul>
<li>我的<strong>Ubuntu</strong>系统：<strong>Ubuntu 14.04.10 TLS 32位</strong></li>
<li>需要安装的<strong>Arduino</strong>的版本：<strong>Arduino 1.6.11（最新版本） Linux 32位</strong></li>
</ul>


<h2>1. 下载 最新的 <strong>Arduino</strong> 开发软件</h2>

<p><strong>Step 1 . </strong> 到<strong>Arduino</strong>官网下载 <strong>linux 32位</strong> 的 <strong>Arduino</strong> 开发软件：</p>

<p>Web：<a href="https://www.arduino.cc/en/Main/Software">https://www.arduino.cc/en/Main/Software</a></p>

<h2>2. 解压</h2>

<p><strong>Step 2 . </strong> 解压<strong>arduino-1.6.11-linux32.tar.xz</strong></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cd ~/Downloads
</span><span class='line'>tar -xvJf arduino-1.6.11-linux32.tar.xz</span></code></pre></td></tr></table></div></figure>


<p><img src="/images/2016-12-6-Arduino-Ubuntu-Linux-install-Arduino-IDE/1472642224393.png" alt="Alt text" /></p>

<p><strong>Step 3 . </strong> 将解压后的文件（<code>arduino-1.6.11</code>）移动到 <code>/opt</code>  目录下：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cd ~/Downloads
</span><span class='line'>sudo mv arduino-1.6.6 /opt</span></code></pre></td></tr></table></div></figure>


<p><strong>Step 4 . </strong> 进入 <code>/opt/arduino-1.6.11</code> 文件夹，将<strong>Files</strong>窗口最大化。选中 <strong>arduino</strong> 文件，再在<strong>菜单栏</strong>中选择：<strong>Edits</strong> -> <strong>Preferences</strong></p>

<p><img src="/images/2016-12-6-Arduino-Ubuntu-Linux-install-Arduino-IDE/1472642888060.png" alt="Alt text" /></p>

<p><strong>Step 5 . </strong> 这时弹出下面的窗口。选择：<strong>Behavior</strong> 选项卡，将<strong>Executable Text Files</strong>项里面，勾选：<strong>Ask each time</strong> 单选框。</p>

<p><img src="/images/2016-12-6-Arduino-Ubuntu-Linux-install-Arduino-IDE/1472642984839.png" alt="Alt text" /></p>

<h2>3. 运行 <strong>Arduino</strong></h2>

<p>现在你有两种方法运行 <strong>Arduino</strong> 软件：</p>

<p><strong>方法一：</strong> 双击 <strong>arduino</strong> 文件： 弹出一个对话框，点击<strong>Run</strong></p>

<p><img src="/images/2016-12-6-Arduino-Ubuntu-Linux-install-Arduino-IDE/1472555757325.png" alt="Alt text" /></p>

<p><strong>方法二：</strong>打开一个终端：路径切换到<strong>arduino</strong>文件所在路径（<code>/opt/arduino-1.6.11/</code>），运行它：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cd /opt/arduino-1.6.11/
</span><span class='line'>./arduino</span></code></pre></td></tr></table></div></figure>


<p>现在，恭喜你，已经安装成功了：</p>

<p><img src="/images/2016-12-6-Arduino-Ubuntu-Linux-install-Arduino-IDE/1472555815898.png" alt="Alt text" /></p>

<h2>4. 做一些配置，实现在终端的任何路径下，都可以运行 <strong>Arduino</strong> 软件</h2>

<p>使用<code>ln</code> 命令(给文件创建软链接文件) Web：<a href="http://roclinux.cn/?p=752">http://roclinux.cn/?p=752</a></p>

<p>我们希望在终端的任何路径下，输入 <code>arduino</code> 都可以启动 <strong>Arduino</strong> 软件：</p>

<p><strong>Step 6 . </strong> 操作如下，打开一个终端，执行下面的命令。将 <code>/opt/arduino-1.6.6/arduino</code> 文件在 <code>/bin/</code> 路径下创建一个软链接文件。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo ln -s /opt/arduino-1.6.11/arduino /bin/</span></code></pre></td></tr></table></div></figure>


<p>搞定，这样就可以在终端中，不管当前路径是什么，都可以启动<strong>Arduino</strong>了。</p>

<p>试试看。现在，在终端中直接执行：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>arduino</span></code></pre></td></tr></table></div></figure>


<h2>5. 如何给 <strong>Arduino</strong> 板子，烧写程序</h2>

<p>请见博客：Arduino 003 Ubuntu（Linux） 系统下，如何给板子烧写程序 。</p>

<h2>搞定</h2>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/12/06/Arduino-Windows-10-install-Arduino-IDE-and-drive/">Arduino 001 Windows 10 安装Arduino IDE软件 和 驱动</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-12-06T13:37:20+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>6</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>1:37 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><hr />

<blockquote><p>在Win10 上安装最新的Arduino IDE （1.6.9安装包）很简单，并且不行要手动安装Arduino板子的驱动，整个安装过程都当前的简单，我以前在我的Win7系统上安装Arduino1.1.0时，需要手动安装板卡驱动，步骤相当繁琐。</p></blockquote>

<h2>1. 先连接<strong>Arduino</strong>与电脑。</h2>

<h2>2. 下载Arduino IDE软件</h2>

<p>然后，到<a href="https://www.arduino.cc/en/Main/Software">这个网址</a> （这个网站打开时，有点慢。）下载最新的Arduino IDE 软件。（记住安装路径，因为后面要用上。）
<img src="/images/2016-12-6-Arduino-Windows-10-install-Arduino-IDE-and-drive/1469421628198.png" alt="Alt text" /></p>

<h2>3. 安装驱动</h2>

<p>打开<strong>控制面板</strong> -> 设备管理器 -> 端口</p>

<p><img src="/images/2016-12-6-Arduino-Windows-10-install-Arduino-IDE-and-drive/1469421740222.png" alt="Alt text" /></p>

<p>驱动已经安装成功。</p>

<h2>4. 测试Arduino IDE软件是否可以使用：</h2>

<h3>选择办卡：Arduino/Genuino Uno</h3>

<p><img src="/images/2016-12-6-Arduino-Windows-10-install-Arduino-IDE-and-drive/1469421799260.png" alt="Alt text" /></p>

<h3>然后，选择端口：</h3>

<p><img src="/images/2016-12-6-Arduino-Windows-10-install-Arduino-IDE-and-drive/1469421867289.png" alt="Alt text" /></p>

<h3>测试：随便导入一个程序：<code>Blink</code></h3>

<p><img src="/images/2016-12-6-Arduino-Windows-10-install-Arduino-IDE-and-drive/1469421937550.png" alt="Alt text" /></p>

<h3>点击：<strong>验证</strong></h3>

<p><img src="/images/2016-12-6-Arduino-Windows-10-install-Arduino-IDE-and-drive/1469421954757.png" alt="Alt text" /></p>

<p><img src="/images/2016-12-6-Arduino-Windows-10-install-Arduino-IDE-and-drive/1469422001208.png" alt="Alt text" /></p>

<h3>点击：<strong>上传</strong></h3>

<p><img src="/images/2016-12-6-Arduino-Windows-10-install-Arduino-IDE-and-drive/1469422032515.png" alt="Alt text" /></p>

<p><img src="/images/2016-12-6-Arduino-Windows-10-install-Arduino-IDE-and-drive/1469422051312.png" alt="Alt text" /></p>

<h2>实验现象</h2>

<p>现在看到的实验现象就是：板子上的A13的LED在闪烁。</p>

<h1>搞定</h1>

<hr />

<p>参考网站：</p>

<p><a href="https://www.arduino.cc/en/Guide/Windows?setlang=cn">https://www.arduino.cc/en/Guide/Windows?setlang=cn</a></p>

<p>其他网站，没有用上：</p>

<p><a href="http://www.arduino.cn/thread-1008-1-1.html">http://www.arduino.cn/thread-1008-1-1.html</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/12/06/python3-large-web-crawler-scrapy-project-Anti-reptile-settings/">Python3 大型网络爬虫实战 — 给 Scrapy 爬虫项目设置为防反爬</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-12-06T00:04:35+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>6</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>12:04 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><hr />

<h2>开发环境</h2>

<ul>
<li>Python第三方库：lxml、Twisted、pywin32、scrapy</li>
<li>Python 版本：python-3.5.0-amd64</li>
<li>PyCharm软件版本：pycharm-professional-2016.1.4</li>
<li>电脑系统：Windows 10 64位</li>
</ul>


<p>如果你还没有搭建好开发环境，请到<a href="http://www.aobosir.com/blog/2016/11/26/python3-large-web-crawler-001-Build-development-environment/">这篇博客</a>。</p>

<hr />

<p>所有的设置都是在scrapy爬虫项目中的<code>settings.py</code> 文件中进行设置。</p>

<p><strong>Step 1 . </strong> 设置爬虫不遵循 <code>robots.txt</code>协议</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># Obey robots.txt rules
</span><span class='line'>ROBOTSTXT_OBEY = False</span></code></pre></td></tr></table></div></figure>


<p><img src="/images/2016-12-6-python3-large-web-crawler-scrapy-project-Anti-reptile-settings/1480952600971.png" alt="Alt text" /></p>

<blockquote><p>想要了解什么是<code>robots.txt</code>协议，请访问这篇博客：<a href="http://blog.csdn.net/github_35160620/article/details/52586126">解析 robots.txt 文件</a>。</p></blockquote>

<p><strong>Step 2 . </strong> 设置取消<strong>Cookies</strong></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="c"># Disable cookies (enabled by default)</span>
</span><span class='line'><span class="n">COOKIES_ENABLED</span> <span class="o">=</span> <span class="bp">False</span>
</span></code></pre></td></tr></table></div></figure>


<p><img src="/images/2016-12-6-python3-large-web-crawler-scrapy-project-Anti-reptile-settings/1480952959564.png" alt="Alt text" /></p>

<blockquote><p><strong>Cookies</strong>：</p>

<p> 简单的说，Cookie就是服务器暂存放在你计算机上的一笔资料，好让服务器用来辨认你的计算机。当你在浏览网站的时候，Web服务器会先送一小小资料放在你的计算机上，Cookie 会帮你在网站上所打的文字或是一些选择，都记录下来。当下次你再光临同一个网站，Web服务器会先看看有没有它上次留下的Cookie资料，有的话，就会依据Cookie里的内容来判断使用者，送出特定的网页内容给你。</p></blockquote>

<p><strong>Step 3 . </strong> 设置用户代理值（<code>USER_AGENT</code>）</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="c"># Crawl responsibly by identifying yourself (and your website) on the user-agent</span>
</span><span class='line'><span class="n">USER_AGENT</span> <span class="o">=</span> <span class="s">&#39;Mozilla/xxx (Windows xxx; Winxx; xxx) AppleWebKit/xxx (KHTML, like Gecko) Chrome/xxxx Safari/xxx&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p><img src="/images/2016-12-6-python3-large-web-crawler-scrapy-project-Anti-reptile-settings/1480953048379.png" alt="Alt text" /></p>

<p>这个 用户代理可以在浏览器里面找到：</p>

<p>随便浏览一个网页，按<strong>F12</strong> -> <strong>Network</strong> -> <strong>F5</strong>，随便点击一项，你都能看到有 <strong>User-agent</strong> 这一项，将这里面的内容拷贝就可以。</p>

<p><img src="/images/2016-12-6-python3-large-web-crawler-scrapy-project-Anti-reptile-settings/1480953359818.png" alt="Alt text" /></p>

<p><strong>Step 4 . </strong> 设置IP</p>

<p>对于这一步，如果你没有做什么违法的事情，可以不用设置。仅仅上面的三个步骤，就可以将那些具有反爬虫机制的网站可以正常爬取了。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/12/05/pcduino-programming-system-ubuntu-14/">Learning Pcduino 002 给pcduino烧写系统 — 之 烧写Ubuntu 14系统</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-12-05T22:19:23+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>5</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>10:19 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><hr />

<ul>
<li>我使用的pcduino板卡型号：<a href="http://www.aobosir.com/blog/2016/12/05/pcduino-3B-Board-Introduction/">pcduino 3B</a></li>
<li>我使用的TF卡大小：32G</li>
</ul>


<hr />

<p>参考网站：</p>

<ul>
<li><a href="https://www.youtube.com/watch?v=XXauYnwElpQ">Installing Ubuntu 14 on a pcDuino3B</a></li>
</ul>


<hr />

<h2>下载需要的东西</h2>

<p>下载 系统镜像文件 和 必要的烧写工具。（我使用的下载软件是迅雷，不是浏览器自带的下载器）</p>

<p>以我现在使用的板子（pcduino3B）为例，所以在<a href="http://www.linksprite.com/image-for-pcduino3-nano-pcduino3b/">这个网站</a>里面下载。需要现在三个东西：</p>

<ol>
<li>一个是系统镜像文件。</li>
<li>一个烧写工具。</li>
</ol>


<blockquote><p>如果你使用的不是pcduino3B板子，那么请到 <a href="http://www.linksprite.com/pcduino-download/">这个网站</a>里选择你使用的板子，到对应的板子链接里下载对应板子的内核镜像文件、系统镜像文件和必要的烧写工具。</p></blockquote>

<p><strong>Step 1 . </strong> 下载镜像文件</p>

<p>镜像文件选择下面的 Ubuntu 14 下载：（注意，这个Ubuntu 14 只需要下载这个文件即可，因为它是一个 <strong>内核+系统</strong> 的镜像文件。）</p>

<p><img src="/images/2016-12-5-pcduino-programming-system-ubuntu-14/1480946917168.png" alt="Alt text" /></p>

<p><strong>Step 2 . </strong> 下载烧写工具</p>

<p>所以，我下载 <strong>PhoenixCard</strong> 烧写工具：（烧写工具在网页的下面，往下滚就能看到。）</p>

<p><img src="/images/2016-12-5-pcduino-programming-system-ubuntu-14/1480947440669.png" alt="Alt text" /></p>

<blockquote><p>注意：注意它的下载提示。如果是给pcduino3系列使用，必须要使用 Phonenix card这个 软件的 V309 版本。很不错的是：这个下载链接默认下载的就是 Phonenix card V309。</p></blockquote>

<hr />

<h2>给pcduino板子烧写Ubuntu 14系统</h2>

<p><strong>Step 1 . </strong> 用读卡器将TF卡（小型的SD卡）连接到电脑。（必须）使用<strong>SD Formatter</strong>工具（专业格式化SD卡的软件）对TF卡进行格式化。</p>

<blockquote><p><strong>SD Formatter</strong>工具具体的下载、安装和使用，请到<a href="http://blog.csdn.net/github_35160620/article/details/52038918">这篇博客</a>中进行了解。</p></blockquote>

<p><strong>Step 2 . </strong> 烧写工具 <strong>PhoenixCard</strong> 下载完，解压后，直接双击<strong>PhoenixCard.exe</strong>就可以启动 <strong>PhoenixCard</strong>烧写软件。</p>

<p>点击<strong>镜像文件</strong>按钮，选择刚刚下载解压后的镜像文件。</p>

<p>然后点击 <strong>烧录</strong> 按钮，进行烧录。（大于5分钟时间。）</p>

<p><strong>Step 3 . </strong> 将TF卡插到pcduino板子上，只给板子供电即可。</p>

<blockquote><p>注意：</p>

<ul>
<li>pcduino板子只需要插上TF卡和接通电源即可，其他的什么设备都不需要连接。</li>
<li>接通电源一定要是5V2A，最好是使用充电宝或者充电头直接给板子供电。<strong>不可以使用电脑USB接口给板子供电。因为电流不够。</strong></li>
<li>如果你真的使用电脑的USB接口给板子供电，后面板子安装系统镜像的时候，是不会成功的。</li>
</ul>
</blockquote>

<p><img src="/images/2016-12-5-pcduino-programming-system-ubuntu-14/1480947234663.png" alt="Alt text" /></p>

<p>中间的LED4（TX）一1秒的间隔闪烁，说明正在烧写内核和系统程序（pcduino板子全自动烧写），大约不到3分钟左右，中间这个LED不再闪烁（熄灭），说明：内核和系统烧写完成。这时拔下TF卡，再将pcduino板子断开电源。</p>

<p><strong>Step 4 . </strong> 给pcduino板子连接显示器，再接通电源：（这时pcduino板子还不插TF卡）</p>

<p>Ubuntu 14系统成功运行。</p>

<h2>搞定</h2>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/12/05/pcduino-programming-sysytem-Ubuntu-NAND-image/">Learning Pcduino 001 给pcduino烧写系统 — 之 烧写Ubuntu NAND系统</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-12-05T21:50:42+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>5</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>9:50 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><hr />

<ul>
<li>我使用的pcduino板卡型号：<a href="http://www.aobosir.com/blog/2016/12/05/pcduino-3B-Board-Introduction/">pcduino 3B</a></li>
<li>我使用的TF卡大小：32G</li>
</ul>


<hr />

<p>参考网站：</p>

<ul>
<li><a href="http://learn.linksprite.com/pcduino/quick-start/pcduino3/video-run-built-in-arduino-ide-on-pcduino3/">[Video] Run built-in Arduino IDE on pcDuino3</a></li>
</ul>


<h2>下载需要的东西</h2>

<p>下载 内核镜像文件、系统镜像文件 和 必要的烧写工具。（我使用的下载软件是迅雷，不是浏览器自带的下载器）</p>

<p>以我现在使用的板子（pcduino3B）为例，所以在<a href="http://www.linksprite.com/image-for-pcduino3-nano-pcduino3b/">这个网站</a>里面下载。需要现在三个东西：</p>

<ol>
<li>一个内核文件镜像文件。</li>
<li>一个是系统镜像文件。</li>
<li>一个烧写工具。</li>
</ol>


<blockquote><p>如果你使用的不是pcduino3B板子，那么请到 <a href="http://www.linksprite.com/pcduino-download/">这个网站</a>里选择你使用的板子，到对应的板子链接里下载对应板子的内核镜像文件、系统镜像文件和必要的烧写工具。</p></blockquote>

<p><strong>Step 1 . </strong> 下载Kernel(内核)镜像文件</p>

<p>下面的4个都是同一个内核文件，随便点击一个下载即可。（这里面说的：<strong>PhoenixCard</strong> 就是烧写工具）</p>

<p><img src="/images/2016-12-5-pcduino-programming-sysytem-Ubuntu-NAND-image/1480777105671.png" alt="Alt text" /></p>

<blockquote><p>注意：如果你给pcduino板子连接的是<strong>LVDS Screen</strong>显示屏，那么你需要下载的是上面图片中的<strong>LVDS Screen</strong>的<strong>Kernel</strong>内核文件。</p>

<p><img src="/images/2016-12-5-pcduino-programming-sysytem-Ubuntu-NAND-image/1480938335315.png" alt="Alt text" /></p></blockquote>

<p><strong>Step 2 . </strong> 下载烧写工具</p>

<p>所以，我下载 <strong>PhoenixCard</strong> 烧写工具：（烧写工具在网页的下面，往下滚就能看到。）</p>

<p><img src="/images/2016-12-5-pcduino-programming-sysytem-Ubuntu-NAND-image/1480744828441.png" alt="Alt text" /></p>

<blockquote><p>注意：注意它的下载提示。如果是给pcduino3系列使用，必须要使用 Phonenix card这个 软件的 V309 版本。很不错的是：这个下载链接默认下载的就是 Phonenix card V309。</p></blockquote>

<p><strong>Step 3 . </strong> 下载镜像文件</p>

<p>镜像文件随便选择一个 Ubuntu NAND 下载即可：（注意，要对应上面下载的内核文件。）</p>

<p><img src="/images/2016-12-5-pcduino-programming-sysytem-Ubuntu-NAND-image/1480938647531.png" alt="Alt text" /></p>

<hr />

<h2>给pcduino板子烧写内核</h2>

<p><strong>Step 1 . </strong> 用读卡器将TF卡（小型的SD卡）连接到电脑。（必须）使用<strong>SD Formatter</strong>工具（专业格式化SD卡的软件）对TF卡进行格式化。</p>

<p><img src="/images/2016-12-5-pcduino-programming-sysytem-Ubuntu-NAND-image/1480939221029.png" alt="Alt text" /></p>

<blockquote><p><strong>SD Formatter</strong>工具具体的下载、安装和使用，请到<a href="http://blog.csdn.net/github_35160620/article/details/52038918">这篇博客</a>中进行了解。</p></blockquote>

<p><strong>Step 2 . </strong> 烧写工具 <strong>PhoenixCard</strong> 下载完，解压后，直接双击<strong>PhoenixCard.exe</strong>就可以启动 <strong>PhoenixCard</strong>烧写软件：</p>

<p><img src="/images/2016-12-5-pcduino-programming-sysytem-Ubuntu-NAND-image/1480745667635.png" alt="Alt text" /></p>

<p><img src="/images/2016-12-5-pcduino-programming-sysytem-Ubuntu-NAND-image/1480745770272.png" alt="Alt text" /></p>

<p><strong>Step 3 . </strong> 给TF卡烧写Kernel(内核)镜像</p>

<p><img src="/images/2016-12-5-pcduino-programming-sysytem-Ubuntu-NAND-image/1480939466523.png" alt="Alt text" /></p>

<p><strong>Step 4 . </strong> 将TF卡从电脑上拔下来，将TF卡插到pcduino板子上，给pcduino板子上电。</p>

<blockquote><p>注意：</p>

<ul>
<li>pcduino板子只需要插上TF卡和接通电源即可，其他的什么设备都不需要连接。</li>
<li>接通电源一定要是5V2A，最好是使用充电宝或者充电头直接给板子供电。<strong>不可以使用电脑USB接口给板子供电。因为电流不够。</strong></li>
<li>如果你真的使用电脑的USB接口给板子供电，后面板子安装系统镜像的时候，是不会成功的。</li>
</ul>
</blockquote>

<p><img src="/images/2016-12-5-pcduino-programming-sysytem-Ubuntu-NAND-image/1480781160131.png" alt="Alt text" /></p>

<p><img src="/images/2016-12-5-pcduino-programming-sysytem-Ubuntu-NAND-image/1480779553594.png" alt="Alt text" /></p>

<p>中间的LED4（TX）一1秒的间隔闪烁，说明正在烧写内核程序（pcduino板子全自动烧写），大约不到23秒钟左右，中间这个LED不在闪烁，说明：内核文件烧写完成。这时拔下TF卡，再将pcduino板子断开电源。</p>

<hr />

<h2>给pcduino板子烧写Ubuntu NAND系统</h2>

<p><strong>Step 1 . </strong> 再将TF卡通过读卡器连接到电脑，然后使用上面同样的方法（用<strong>SD Formatter</strong>软件）对TF卡进行格式化操作。</p>

<p><strong>Step 2 . </strong> 选择要烧写的镜像文件</p>

<p>将解压后的系统镜像文件（<code>pcduino3_ubuntu_20140807.img</code> 和 <code>update.sh</code>）直接拷贝到TF卡上。</p>

<p><img src="/images/2016-12-5-pcduino-programming-sysytem-Ubuntu-NAND-image/1480782215024.png" alt="Alt text" /></p>

<p><strong>Step 3 . </strong> 检查 <code>update.sh</code> 文件</p>

<p>如果你下载的这个：</p>

<p><img src="/images/2016-12-5-pcduino-programming-sysytem-Ubuntu-NAND-image/1480940230049.png" alt="Alt text" /></p>

<p>我们现在使用记事本软件打开<code>update.sh</code> 启动文件，检查里面指定的镜像文件名是否正确，可以看到，我现在这个情况，是不正确的：</p>

<p><img src="/images/2016-12-5-pcduino-programming-sysytem-Ubuntu-NAND-image/1480780631220.png" alt="Alt text" /></p>

<p>如果我们TF卡根目录里面的镜像文件名为：<code>pcduino3nano_ubuntu_20140807.img</code>。所以我们需要手动修改<code>update.sh</code> 文件：</p>

<p>将其修改为下面这样，并保存文件。</p>

<p><img src="/images/2016-12-5-pcduino-programming-sysytem-Ubuntu-NAND-image/1480780787224.png" alt="Alt text" /></p>

<p>总之，这一步（<strong>Step 3 . </strong>）的目的就是：让<code>update.sh</code>文件里面的<code>IMG</code>变量指向正确的镜像文件路径。</p>

<p><strong>Step 4 . </strong> 给pcduino板子连接显示器，再接通电源：（这时pcduino板子还不插TF卡）</p>

<p><img src="/images/2016-12-5-pcduino-programming-sysytem-Ubuntu-NAND-image/1480943598183.png" alt="Alt text" /></p>

<p>这时观察pcduino连接的显示屏，当出现下面的信息时：</p>

<p><img src="/images/2016-12-5-pcduino-programming-sysytem-Ubuntu-NAND-image/1480945409839.png" alt="Alt text" /></p>

<p><strong>Step 5 . </strong> 现在将烧写好的系统的TF卡插到pcduino板子上。然后pcduino自动将TF卡里面的系统镜像安装到pcduino芯片里。（等待大约8分钟）</p>

<p>当你看看到下面的信息的时候，说明系统已经安装完成了。</p>

<p><img src="/images/2016-12-5-pcduino-programming-sysytem-Ubuntu-NAND-image/1480944718209.png" alt="Alt text" /></p>

<p><strong>Step 6 . </strong> 这个时候，关闭电源，你可以将SD卡去下来（TF卡已经没有用了，你可以把它扔了，呵呵）。</p>

<p>现在，给板子重新上电，板子自动运行系统。</p>

<p><img src="/images/2016-12-5-pcduino-programming-sysytem-Ubuntu-NAND-image/1480945185981.png" alt="Alt text" /></p>

<h2>搞定</h2>

<hr />

<p>参考网站：</p>

<ul>
<li><a href="https://www.youtube.com/watch?v=XXauYnwElpQ">Installing Ubuntu 14 on a pcDuino3B</a></li>
<li><a href="http://www.itdadao.com/articles/c15a578261p0.html">Pcduino烧写系统Pcduino 3 Nano 烧写系统小记</a></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/12/05/pcduino-3B-Board-Introduction/">Learning Pcduino 000 Pcduino板卡介绍 — Pcduino 3B</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-12-05T19:17:30+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>5</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>7:17 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><hr />

<h2>什么是pcduino</h2>

<p>pcduino = mini PC + Arduino</p>

<p>简单的说，就是一个板子，它所具有的功能 等价于：一个装有系统的微型笔记本电脑再连接一个Arduino UNO 的板子。</p>

<h2>pcduino 3B</h2>

<p><img src="/images/2016-12-5-pcduino-3B-Board-Introduction/1480743252811.png" alt="Alt text" /></p>

<p>购买网站：<a href="https://item.taobao.com/item.htm?spm=a1z10.5-c.w4002-10306272528.14.xr2Mrd&amp;id=42881071231">pcDuino3B A20开发板</a></p>

<p>pcduino3 与 pcduino3B 的唯一区别就是：pcduino3B有一个大型集成的RJ45网络端口。（其他和pcduino3一模一样）</p>

<p><img src="/images/2016-12-5-pcduino-3B-Board-Introduction/1480784084302.png" alt="Alt text" /></p>

<p>pcduino 3B 的官方介绍网站： <a href="http://www.linksprite.com/linksprite-pcduino3/">LinkSprite pcDuino3</a> （pcduino3 包括：pcduino3 和 pcduino3B）</p>

<p>pcduino 官网的教程资料网站：<a href="http://www.linksprite.com/quick-start/">LinkSprite pcDuino Quick Start</a></p>

<p>pcduino 中文教程网站：<a href="http://www.pcduino.com/wiki/index.php?title=%E4%B8%AD%E6%96%87%E4%B9%A6">维基 pcduino 中文书</a></p>

<p>pcduino 教学的pdf:</p>

<ul>
<li><a href="https://s3.amazonaws.com/pcduino/book/pcDuinov3%E5%8F%8Anano%E6%95%99%E7%A8%8B%EF%BC%88%E4%BC%98%E5%A3%A4%E6%95%99%E8%82%B2%EF%BC%89.pdf">pcDuinov3及nano教程（优壤教育）</a></li>
<li><a href="https://s3.amazonaws.com/pcduino/book/CPK_pcDuino3.pdf">18 Projects with CuteDigi Project Kit for pcDuino3</a></li>
<li><a href="http://cnlearn.linksprite.com/wp-content/uploads/2014/03/%E3%80%8A-%E7%88%B1%E4%B8%8A-pcDuino-%E3%80%8B.pdf">爱上-pcDuino</a></li>
</ul>


<p>pcduino sparkfun网站的tutorials：<a href="https://learn.sparkfun.com/tutorials/programming-the-pcduino">Programming the pcDuino</a></p>

<p><a href="http://learn.linksprite.com/?s=pcduino3b">Search Results for &ldquo;pcduino3b&rdquo;</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/12/04/Linux-commands-cp-copy/">Learning Linux 命令 001 Cp 复制</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-12-04T23:18:23+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>4</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>11:18 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><hr />

<p>将单个文件 <code>file</code> 复制到指定目录<code>dir</code>里面：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cp file dir</span></code></pre></td></tr></table></div></figure>


<blockquote><p>当你使用<code>cp</code>命令的时候，如果出现下面的错误：</p>

<pre><code>cp: omitting directory ‘file’
</code></pre>

<p>说明：<code>file</code> 不是单个文件，是一个目录，你如果要复制目录，需要给<code>cp</code>命令加一个参数 <code>-r</code> 。</p></blockquote>

<p>将目录 <code>dir1</code> 复制到 指定目录 <code>dir2</code> 里面：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cp -r dir1 dir2</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/12/02/cs-003-cmd-exe-execute-command-line-command/">C# 003 C#调用cmd.exe执行命令</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-12-02T07:57:03+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>2</span><span class='date-suffix'>nd</span>, <span class='date-year'>2016</span></span> <span class='time'>7:57 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><hr />

<ul>
<li>我使用的电脑：Windows 10 64位</li>
<li>使用的Visual Studio 软件： VS2010</li>
</ul>


<hr />

<p>参考网站：<a href="http://www.cnblogs.com/njl041x/p/3881550.html">C#程序调用cmd.exe执行命令</a></p>

<p>创建一个文件，名为：<code>RunCmd.cs</code>。将下面的代码拷贝到里面。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
</span><span class='line'><span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
</span><span class='line'><span class="k">using</span> <span class="nn">System.Linq</span><span class="p">;</span>
</span><span class='line'><span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>
</span><span class='line'><span class="k">using</span> <span class="nn">System.Diagnostics</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">namespace</span> <span class="nn">AoboSir</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">class</span> <span class="nc">RunCmd</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="k">public</span> <span class="nf">RunCmd</span><span class="p">()</span>
</span><span class='line'>        <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">private</span> <span class="k">static</span> <span class="kt">string</span> <span class="n">CmdPath</span> <span class="p">=</span> <span class="s">@&quot;C:\Windows\System32\cmd.exe&quot;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">/// &lt;summary&gt;</span>
</span><span class='line'>        <span class="c1">/// 执行cmd命令</span>
</span><span class='line'>        <span class="c1">/// 多命令请使用批处理命令连接符：</span>
</span><span class='line'>        <span class="c1">/// &lt;![CDATA[</span>
</span><span class='line'>        <span class="c1">/// &amp;:同时执行两个命令</span>
</span><span class='line'>        <span class="c1">/// |:将上一个命令的输出,作为下一个命令的输入</span>
</span><span class='line'>        <span class="c1">/// &amp;&amp;：当&amp;&amp;前的命令成功时,才执行&amp;&amp;后的命令</span>
</span><span class='line'>        <span class="c1">/// ||：当||前的命令失败时,才执行||后的命令]]&gt;</span>
</span><span class='line'>        <span class="c1">/// 其他请百度</span>
</span><span class='line'>        <span class="c1">/// &lt;/summary&gt;</span>
</span><span class='line'>        <span class="c1">/// &lt;param name=&quot;cmd&quot;&gt;&lt;/param&gt;</span>
</span><span class='line'>        <span class="c1">/// &lt;param name=&quot;output&quot;&gt;&lt;/param&gt;</span>
</span><span class='line'>        <span class="k">public</span> <span class="k">void</span> <span class="nf">run</span><span class="p">(</span><span class="kt">string</span> <span class="n">cmd</span><span class="p">,</span> <span class="k">out</span> <span class="kt">string</span> <span class="n">output</span><span class="p">)</span>
</span><span class='line'>        <span class="p">{</span>
</span><span class='line'>            <span class="n">cmd</span> <span class="p">=</span> <span class="n">cmd</span><span class="p">.</span><span class="n">Trim</span><span class="p">().</span><span class="n">TrimEnd</span><span class="p">(</span><span class="sc">&#39;&amp;&#39;</span><span class="p">)</span> <span class="p">+</span> <span class="s">&quot;&amp;exit&quot;</span><span class="p">;</span><span class="c1">//说明：不管命令是否成功均执行exit命令，否则当调用ReadToEnd()方法时，会处于假死状态</span>
</span><span class='line'>            <span class="k">using</span> <span class="p">(</span><span class="n">Process</span> <span class="n">p</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Process</span><span class="p">())</span>
</span><span class='line'>            <span class="p">{</span>
</span><span class='line'>                <span class="n">p</span><span class="p">.</span><span class="n">StartInfo</span><span class="p">.</span><span class="n">FileName</span> <span class="p">=</span> <span class="n">CmdPath</span><span class="p">;</span>
</span><span class='line'>                <span class="n">p</span><span class="p">.</span><span class="n">StartInfo</span><span class="p">.</span><span class="n">UseShellExecute</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>        <span class="c1">//是否使用操作系统shell启动</span>
</span><span class='line'>                <span class="n">p</span><span class="p">.</span><span class="n">StartInfo</span><span class="p">.</span><span class="n">RedirectStandardInput</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>   <span class="c1">//接受来自调用程序的输入信息</span>
</span><span class='line'>                <span class="n">p</span><span class="p">.</span><span class="n">StartInfo</span><span class="p">.</span><span class="n">RedirectStandardOutput</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>  <span class="c1">//由调用程序获取输出信息</span>
</span><span class='line'>                <span class="n">p</span><span class="p">.</span><span class="n">StartInfo</span><span class="p">.</span><span class="n">RedirectStandardError</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>   <span class="c1">//重定向标准错误输出</span>
</span><span class='line'>                <span class="n">p</span><span class="p">.</span><span class="n">StartInfo</span><span class="p">.</span><span class="n">CreateNoWindow</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>          <span class="c1">//不显示程序窗口</span>
</span><span class='line'>                <span class="n">p</span><span class="p">.</span><span class="n">Start</span><span class="p">();</span><span class="c1">//启动程序</span>
</span><span class='line'>
</span><span class='line'>                <span class="c1">//向cmd窗口写入命令</span>
</span><span class='line'>                <span class="n">p</span><span class="p">.</span><span class="n">StandardInput</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">cmd</span><span class="p">);</span>
</span><span class='line'>                <span class="n">p</span><span class="p">.</span><span class="n">StandardInput</span><span class="p">.</span><span class="n">AutoFlush</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
</span><span class='line'>                <span class="c1">//p.StandardInput.WriteLine(&quot;exit&quot;);</span>
</span><span class='line'>                <span class="c1">//向标准输入写入要执行的命令。这里使用&amp;是批处理命令的符号，表示前面一个命令不管是否执行成功都执行后面(exit)命令，如果不执行exit命令，后面调用ReadToEnd()方法会假死</span>
</span><span class='line'>                <span class="c1">//同类的符号还有&amp;&amp;和||前者表示必须前一个命令执行成功才会执行后面的命令，后者表示必须前一个命令执行失败才会执行后面的命令</span>
</span><span class='line'>
</span><span class='line'>                <span class="c1">//获取cmd窗口的输出信息</span>
</span><span class='line'>                <span class="n">output</span> <span class="p">=</span> <span class="n">p</span><span class="p">.</span><span class="n">StandardOutput</span><span class="p">.</span><span class="n">ReadToEnd</span><span class="p">();</span>
</span><span class='line'>                <span class="n">p</span><span class="p">.</span><span class="n">WaitForExit</span><span class="p">();</span><span class="c1">//等待程序执行完退出进程</span>
</span><span class='line'>                <span class="n">p</span><span class="p">.</span><span class="n">Close</span><span class="p">();</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>我们可以这样使用这个<code>RunCmd</code> 类：</p>

<p>在GUI界面里面添加一个按钮，然后在对应的<code>.cs</code> 文件的程序，就类似于下面这个样子：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
</span><span class='line'><span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
</span><span class='line'><span class="k">using</span> <span class="nn">System.ComponentModel</span><span class="p">;</span>
</span><span class='line'><span class="k">using</span> <span class="nn">System.Data</span><span class="p">;</span>
</span><span class='line'><span class="k">using</span> <span class="nn">System.Drawing</span><span class="p">;</span>
</span><span class='line'><span class="k">using</span> <span class="nn">System.Linq</span><span class="p">;</span>
</span><span class='line'><span class="k">using</span> <span class="nn">System.Text</span><span class="p">;</span>
</span><span class='line'><span class="k">using</span> <span class="nn">System.Windows.Forms</span><span class="p">;</span>
</span><span class='line'><span class="k">using</span> <span class="nn">AoboSir</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">namespace</span> <span class="nn">learningcs003</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">partial</span> <span class="k">class</span> <span class="nc">Form1</span> <span class="p">:</span> <span class="n">Form</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="k">public</span> <span class="nf">Form1</span><span class="p">()</span>
</span><span class='line'>        <span class="p">{</span>
</span><span class='line'>            <span class="n">InitializeComponent</span><span class="p">();</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">RunCmd</span> <span class="n">runcmd</span> <span class="p">=</span> <span class="k">new</span> <span class="n">RunCmd</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">private</span> <span class="k">void</span> <span class="nf">button1_Click</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">EventArgs</span> <span class="n">e</span><span class="p">)</span>
</span><span class='line'>        <span class="p">{</span>
</span><span class='line'>            <span class="kt">string</span> <span class="n">commond</span><span class="p">,</span> <span class="n">output</span><span class="p">;</span>
</span><span class='line'>            <span class="n">commond</span> <span class="p">=</span> <span class="s">@&quot;notepad.exe&quot;</span><span class="p">;</span>
</span><span class='line'>            <span class="n">runcmd</span><span class="p">.</span><span class="n">run</span><span class="p">(</span><span class="n">commond</span><span class="p">,</span> <span class="k">out</span> <span class="n">output</span><span class="p">);</span>
</span><span class='line'>            <span class="c1">//MessageBox.Show(output);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>运行的功能是：启动 <strong>记事本</strong> 软件。</p>

<hr />
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/2">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/12/06/Arduino-Windows-add-module-libraries/">Arduino 004 Windows上给Arduino IDE添加模块库</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/12/06/Arduino-Ubuntu-Linux-board-upload-program/">Arduino 003 Ubuntu（Linux） 系统下，如何给板子烧写程序</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/12/06/Arduino-Ubuntu-Linux-install-Arduino-IDE/">Arduino 002 — 在Ubuntu（Linux） 中搭建Arduino开发环境</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/12/06/Arduino-Windows-10-install-Arduino-IDE-and-drive/">Arduino 001 Windows 10 安装Arduino IDE软件 和 驱动</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/12/06/python3-large-web-crawler-scrapy-project-Anti-reptile-settings/">Python3 大型网络爬虫实战 — 给 Scrapy 爬虫项目设置为防反爬</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Tags</h1>
  <ul class="tag-cloud">
    <a style="font-size: 139%" href="/tags/arduino/">Arduino</a>
<a style="font-size: 129%" href="/tags/auto-control/">Auto Control</a>
<a style="font-size: 129%" href="/tags/c-number/">C#</a>
<a style="font-size: 139%" href="/tags/git/">Git</a>
<a style="font-size: 115%" href="/tags/github/">GitHub</a>
<a style="font-size: 139%" href="/tags/ide/">IDE</a>
<a style="font-size: 115%" href="/tags/linux/">Linux</a>
<a style="font-size: 147%" href="/tags/octopress/">Octopress</a>
<a style="font-size: 129%" href="/tags/pycharm/">PyCharm</a>
<a style="font-size: 164%" href="/tags/python/">Python</a>
<a style="font-size: 147%" href="/tags/python3/">Python3</a>
<a style="font-size: 210%" href="/tags/sql/">SQL</a>
<a style="font-size: 210%" href="/tags/sql-server/">SQL Server</a>
<a style="font-size: 115%" href="/tags/scrapy/">Scrapy</a>
<a style="font-size: 115%" href="/tags/ubuntu/">Ubuntu</a>
<a style="font-size: 129%" href="/tags/vs2015/">VS2015</a>
<a style="font-size: 129%" href="/tags/visual-studio-2015/">Visual Studio 2015</a>
<a style="font-size: 168%" href="/tags/windows/">Windows</a>
<a style="font-size: 115%" href="/tags/args/">args</a>
<a style="font-size: 115%" href="/tags/open/">open</a>
<a style="font-size: 115%" href="/tags/os/">os</a>
<a style="font-size: 129%" href="/tags/pcduino/">pcduino</a>
<a style="font-size: 129%" href="/tags/pcduino3b/">pcduino3B</a>
<a style="font-size: 129%" href="/tags/pip/">pip</a>
<a style="font-size: 159%" href="/tags/python/">python</a>
<a style="font-size: 115%" href="/tags/python2/">python2</a>
<a style="font-size: 164%" href="/tags/python3/">python3</a>
<a style="font-size: 115%" href="/tags/luan-ma/">乱码</a>
<a style="font-size: 115%" href="/tags/chuan-di-han-shu/">传递函数</a>
<a style="font-size: 115%" href="/tags/xin-hao-liu-tu/">信号流图</a>
<a style="font-size: 90%" href="/tags/chuang-jian-wen-jian-jia/">创建文件夹</a>
<a style="font-size: 115%" href="/tags/dong-tai-jie-gou-tu/">动态结构图</a>
<a style="font-size: 115%" href="/tags/can-shu/">参数</a>
<a style="font-size: 115%" href="/tags/ming-ling-xing/">命令行</a>
<a style="font-size: 115%" href="/tags/zi-fu-chuan/">字符串</a>
<a style="font-size: 115%" href="/tags/wei-fen-fang-cheng/">微分方程</a>
<a style="font-size: 115%" href="/tags/shu-xue-mo-xing/">数学模型</a>
<a style="font-size: 115%" href="/tags/wen-jian/">文件</a>
<a style="font-size: 115%" href="/tags/wen-jian-jia/">文件夹</a>
<a style="font-size: 187%" href="/tags/cha-xun/">查询</a>
<a style="font-size: 115%" href="/tags/mo-hu-cha-xun/">模糊查询</a>
<a style="font-size: 129%" href="/tags/pa-chong/">爬虫</a>
<a style="font-size: 115%" href="/tags/sheng-cheng-qi/">生成器</a>
<a style="font-size: 139%" href="/tags/zi-dong-kong-zhi-yuan-li/">自动控制原理</a>
<a style="font-size: 147%" href="/tags/ruan-jian-an-zhuang/">软件安装</a>

  </ul>
</section><section>
  <h1>Categories</h1>
  <ul id="categories">
    <li class='category'><a href='/blog/categories/arduino/'>arduino (4)</a></li>
<li class='category'><a href='/blog/categories/auto-control/'>auto control (4)</a></li>
<li class='category'><a href='/blog/categories/c-number/'>c# (3)</a></li>
<li class='category'><a href='/blog/categories/eda/'>eda (1)</a></li>
<li class='category'><a href='/blog/categories/git-github/'>git_github (4)</a></li>
<li class='category'><a href='/blog/categories/linux-ming-ling/'>linux 命令 (1)</a></li>
<li class='category'><a href='/blog/categories/pcduino/'>pcduino (3)</a></li>
<li class='category'><a href='/blog/categories/python/'>python (16)</a></li>
<li class='category'><a href='/blog/categories/python3-da-xing-wang-luo-pa-chong-shi-zhan/'>python3 大型网络爬虫实战 (8)</a></li>
<li class='category'><a href='/blog/categories/sql/'>sql (29)</a></li>
<li class='category'><a href='/blog/categories/sql-server/'>sql server (29)</a></li>
<li class='category'><a href='/blog/categories/use-octopress-build-blog-site/'>use octopress build blog site (5)</a></li>
<li class='category'><a href='/blog/categories/zi-dong-kong-zhi-yuan-li/'>自动控制原理 (4)</a></li>
<li class='category'><a href='/blog/categories/ruan-jian-an-zhuang/'>软件安装 (5)</a></li>

  </ul>
</section><section>
  <h1>访客统计</h1>
  <br/>
  <a href="http://s11.flagcounter.com/more/Km5"><img src="http://s11.flagcounter.com/count2/Km5/bg_ABCDFF/txt_000000/border_B29CB5/columns_2/maxflags_10/viewers_0/labels_0/pageviews_1/flags_0/percent_0/" alt="Flag Counter" border="0"></a>
</section>
  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2016 - Aobo Jaing -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  











</body>
</html>
